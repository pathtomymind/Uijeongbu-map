<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ë¶ˆë²•ì˜¥ì™¸ê´‘ê³ ë¬¼ ì •ë¹„ ìµœì í™” ê²½ë¡œ ì•ˆë‚´</title>
    <style>
        body { margin: 0; padding: 20px; font-family: 'Pretendard', sans-serif; background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); color: #333; display: flex; flex-direction: column; align-items: center; }
        .container { width: 100%; max-width: 800px; }
        header { text-align: center; color: white; margin-bottom: 20px; }
        header h1 { margin: 0; font-size: 1.5rem; }
        header p { margin: 5px 0 0; font-size: 0.85rem; opacity: 0.9; }

        .summary-box { background: rgba(255, 255, 255, 0.9); padding: 15px; border-radius: 15px; margin-bottom: 20px; font-weight: bold; text-align: center; box-shadow: 0 4px 15px rgba(0,0,0,0.1); }
        .export-btn-container { text-align: right; margin-bottom: 15px; }
        .export-btn { background: #ffd700; color: #333; border: none; padding: 10px 15px; border-radius: 8px; font-weight: bold; cursor: pointer; font-size: 0.85rem; }

        .card { background: white; border-radius: 20px; padding: 20px; margin-bottom: 20px; box-shadow: 0 10px 20px rgba(0,0,0,0.15); position: relative; }
        .card.start { background: linear-gradient(to right, #11998e, #38ef7d); color: white; }
        .card.end { background: linear-gradient(to right, #f83600, #f9d423); color: white; }

        .badge { display: inline-block; width: 30px; height: 30px; border-radius: 50%; text-align: center; line-height: 30px; font-weight: bold; margin-right: 10px; background: #4A90E2; color: white; }
        .start .badge { background: white; color: #11998e; }
        .end .badge { background: white; color: #f83600; }

        .title { font-size: 1.1rem; font-weight: 700; margin-bottom: 10px; display: flex; align-items: center; }
        .info-box { background: #f4f4f4; padding: 12px; border-radius: 10px; font-size: 0.9rem; margin-bottom: 15px; color: #444; }
        .info-line { margin-bottom: 5px; }
        .info-label { font-weight: 700; color: #666; margin-right: 5px; }

        .guide { font-size: 0.8rem; color: #777; margin-bottom: 15px; line-height: 1.4; }
        .start .guide, .end .guide { color: rgba(255,255,255,0.8); }

        .btn-group { display: flex; gap: 10px; margin-bottom: 15px; }
        .btn { flex: 1; padding: 12px; border-radius: 10px; text-align: center; text-decoration: none; font-weight: bold; font-size: 0.9rem; color: white; }
        .btn-tmap { background: linear-gradient(45deg, #8e2de2, #4a00e0); }
        .btn-naver { background: linear-gradient(45deg, #00c853, #b2ff59); }

        /* ë©”ëª¨ ì„¹ì…˜ */
        .memo-toggle { width: 100%; padding: 8px; background: #eee; border: none; border-radius: 8px; font-size: 0.8rem; font-weight: bold; cursor: pointer; color: #666; margin-top: 5px; }
        .memo-content { display: none; margin-top: 10px; border-top: 1px dashed #ccc; padding-top: 10px; }
        .memo-textarea { width: 100%; height: 80px; padding: 10px; border: 1px solid #ddd; border-radius: 8px; font-size: 0.9rem; box-sizing: border-box; resize: none; }
        .save-indicator { font-size: 0.7rem; color: #00c853; text-align: right; margin-top: 3px; display: none; }
    </style>
</head>
<body>

<div class="container">
    <header>
        <h1>ë¶ˆë²•ì˜¥ì™¸ê´‘ê³ ë¬¼ ì •ë¹„ ìµœì í™” ê²½ë¡œ ì•ˆë‚´</h1>
        <p>ì´ ê²½ë¡œëŠ” êµ¬ê¸€ ì¸ê³µì§€ëŠ¥ ì œë¯¸ë‚˜ì´ê°€ ì˜ì •ë¶€ ì§€ë¦¬ë¥¼ ê³ ë ¤í•˜ì—¬ ë™ì„  ë‚­ë¹„ ì—†ëŠ” ë£¨í”„í˜• ê²½ë¡œë¡œ ì„¤ê³„í•œ ê²ƒì…ë‹ˆë‹¤.</p>
    </header>

    <div class="summary-box">
        ì˜¤ëŠ˜ì˜ ì ê²€ ê²½ë¡œ ìš”ì•½: ì˜ì •ë¶€ì‹œì²­ ì¶œë°œ â†’ ì´ 9ê°œ ì§€ì  â†’ ì˜ì •ë¶€ì‹œì²­ ë³µê·€
    </div>

    <div class="export-btn-container">
        <button class="export-btn" onclick="exportMemos()">ì˜¤ëŠ˜ì˜ ì ê²€ê²°ê³¼ (TXT) ë‚´ë³´ë‚´ê¸°</button>
    </div>

    <div id="route-cards"></div>
</div>

<script>
    const today = "2026-01-26";
    const routePoints = [
        { seq: 1, type: 'start', title: "ì˜ì •ë¶€ì‹œì²­", addr: "ê²½ê¸°ë„ ì˜ì •ë¶€ì‹œ ì‹œë¯¼ë¡œ 1", content: "ì •ë¹„ ì‹œì‘", photo: "-", originalSeq: "-", lat: 37.7380, lng: 127.0337, guide: "ì‹œë¯¼ë¡œë¥¼ ë”°ë¼ ê°€ëŠ¥ë™ ë°©í–¥ìœ¼ë¡œ ì´ë™í•˜ì„¸ìš”." },
        { seq: 2, title: "ê°€ëŠ¥ë™ 663-9 (ë°±ì •ë°¥ìƒ ì•)", addr: "ê°€ëŠ¥ë™ 663-9", content: "í‘¸ë¥´ë„· ê´‘ê³  ë²½ë³´", photo: "ê±´ë¬¼ ì™¸ë²½ ë¶‰ì€ ë²½ëŒ êµ¬ê°„", originalSeq: "2", lat: 37.7512, lng: 127.0321, guide: "ì •ë¹„ í›„ ë¶ìª½ SKì•„íŒŒíŠ¸ ë°©í–¥ìœ¼ë¡œ ì§ì§„í•˜ì„¸ìš”." },
        { seq: 3, title: "ê°€ëŠ¥ë™ 663-21 (ê°€ëŠ¥SKì  ì‚¬ê±°ë¦¬)", addr: "ê°€ëŠ¥ë™ 663-21 ì¸ê·¼", content: "ê´‘ê³  ë²½ë³´", photo: "ì „ì‹ ì£¼ ë° ë‹´ì¥ ì£¼ë³€ ë²½ë³´ ë‹¤ìˆ˜", originalSeq: "3, 4, 5", lat: 37.7518, lng: 127.0335, guide: "ì „ì‹ ì£¼ 3ê°œì†Œê°€ ì¸ì ‘í•´ ìˆìœ¼ë‹ˆ ë„ë³´ ì •ë¹„ ê¶Œì¥." },
        { seq: 4, title: "ê°€ëŠ¥ë™ 205-1 (ë™ì§„ì¢…í•©ìƒì‚¬)", addr: "ê°€ëŠ¥ë™ 205-1", content: "ë¶„ì–‘ í˜„ìˆ˜ë§‰", photo: "ìƒê°€ ì „ë©´ ê°€ë¡œë“± ì‚¬ì´", originalSeq: "6", lat: 37.7538, lng: 127.0425, guide: "ê°€ê¸ˆë¡œ íƒ€ê¸° ì „ í°ê¸¸ê°€ ìœ„ì¹˜." },
        { seq: 5, title: "ë…¹ì–‘ë™ ì‚°1-4 (ê°€ê¸ˆêµ ì‚¼ê±°ë¦¬)", addr: "ë…¹ì–‘ë™ ì‚°1-4", content: "ë¶„ì–‘ í˜„ìˆ˜ë§‰", photo: "ê°€ê¸ˆêµ ì§„ì… ì „ ê°€ë¡œìˆ˜ ì‚¬ì´", originalSeq: "1", lat: 37.7612, lng: 127.0392, guide: "ì •ë¹„ í›„ í‰í™”ë¡œë¥¼ ì´ìš©í•´ íƒœí‰ë¡œë¡œ ì§„ì…í•˜ì„¸ìš”." },
        { seq: 6, title: "íƒœí‰ë¡œ 132 (í™”ìˆœì‹ë‹¹)", addr: "íƒœí‰ë¡œ 132", content: "ê´‘ê³  í˜„ìˆ˜ë§‰", photo: "ì‹ë‹¹ ì• ë…¸ë€ ì—ì–´ë¼ì´íŠ¸ ë“±", originalSeq: "12", lat: 37.7445, lng: 127.0512, guide: "ì‹œë‚´ ì¤‘ì‹¬ë¶€. ì •ë¹„ í›„ ë¯¼ë½ë™ ë°©í–¥ ì´ë™." },
        { seq: 7, title: "ë¯¼ë½ë™ 910 (ë¯¼ë½ë¡œ 279 ì•)", addr: "ë¯¼ë½ë¡œ 279 ì• ì •ë¥˜ì¥", content: "ê´‘ê³  í˜„ìˆ˜ë§‰", photo: "ë„ë¡œë³€ íœìŠ¤ í™ë³´ë¬¼", originalSeq: "11", lat: 37.7485, lng: 127.0912, guide: "ì •ë¹„ í›„ ë‚¨ìª½ ê³ ì‚°ì§€êµ¬ë¡œ ì´ë™í•˜ì„¸ìš”." },
        { seq: 8, title: "ê³ ì‚°ë™ 874 (íœ´ìŠ¤í† ë¦¬ ì •ë¬¸)", addr: "ê³ ì‚°ë™ 874", content: "ê´‘ê³  í˜„ìˆ˜ë§‰", photo: "ì•„íŒŒíŠ¸ ì •ë¬¸ íœìŠ¤ ëŒ€í˜• í˜„ìˆ˜ë§‰", originalSeq: "10", lat: 37.7321, lng: 127.1012, guide: "ì •ë¹„ í›„ ìˆ˜ì•”ë¡œ ë”°ë¼ ì‚°ê³¡ë™ìœ¼ë¡œ ì´ë™." },
        { seq: 9, title: "ì‚°ê³¡ë™ 730 (ê³ ì‚°ìˆ˜ìì¸ ì •ë¬¸)", addr: "ì‚°ê³¡ë™ 730 (CUì£¼ë³€)", content: "ê´‘ê³  í˜„ìˆ˜ë§‰", photo: "ë³´ë„ íœìŠ¤ ì—°ì† í˜„ìˆ˜ë§‰êµ°", originalSeq: "7", lat: 37.7255, lng: 127.1085, guide: "ì‚°ê³¡ë™ ë‚¨ìª½ ë§ˆì§€ë§‰ ëŒ€ë‹¨ì§€ êµ¬ê°„ì…ë‹ˆë‹¤." },
        { seq: 10, title: "ì‚°ê³¡ë™ 810 (ì‚¼ê±°ë¦¬ ë°˜ì‚¬ê²½)", addr: "ì‚°ê³¡ë™ 810 ì‚¼ê±°ë¦¬", content: "ê´‘ê³  í˜„ìˆ˜ë§‰", photo: "ë°˜ì‚¬ê²½ ë° ì •ë¥˜ì¥ íœìŠ¤", originalSeq: "8, 9", lat: 37.7188, lng: 127.1121, guide: "ë§ˆì§€ë§‰ ì§€ì ì…ë‹ˆë‹¤. ì‹œì²­ ë°©í–¥ìœ¼ë¡œ ë³µê·€í•˜ì„¸ìš”." },
        { seq: 11, type: 'end', title: "ì˜ì •ë¶€ì‹œì²­", addr: "ê²½ê¸°ë„ ì˜ì •ë¶€ì‹œ ì‹œë¯¼ë¡œ 1", content: "ë³µê·€ ì™„ë£Œ", photo: "-", originalSeq: "-", lat: 37.7381, lng: 127.0338, guide: "ì˜¤ëŠ˜ë„ ê³ ìƒí•˜ì…¨ìŠµë‹ˆë‹¤!" }
    ];

    const cardsContainer = document.getElementById('route-cards');

    routePoints.forEach(p => {
        const cardClass = p.type ? `card ${p.type}` : 'card';
        const infoHtml = p.type ? `<div class="info-box" style="background: rgba(255,255,255,0.2); color: white;">ì£¼ì†Œ: ${p.addr}</div>` : `
            <div class="info-box">
                <div class="info-line"><span class="info-label">ì›ë˜ìˆœë²ˆ:</span> ${p.originalSeq}</div>
                <div class="info-line"><span class="info-label">ì£¼ì†Œ:</span> ${p.addr}</div>
                <div class="info-line"><span class="info-label">ë¯¼ì›ë‚´ìš©:</span> ${p.content}</div>
                <div class="info-line"><span class="info-label">í˜„ì¥ì‚¬ì§„ìš”ì•½:</span> ${p.photo}</div>
            </div>`;

        const actionButtons = p.type ? '' : `
            <div class="btn-group">
                <a href="tmap://route?goalname=${p.title}&goaly=${p.lat}&goalx=${p.lng}" class="btn btn-tmap">í‹°ë§µ</a>
                <a href="nmap://route/car?dlat=${p.lat}&dlng=${p.lng}&dname=${p.title}&appname=com.nhn.android.nmap" class="btn btn-naver">ë„¤ì´ë²„</a>
            </div>
            <button class="memo-toggle" onclick="toggleMemo(${p.seq})">ğŸ“ ì ê²€ ë©”ëª¨ ì‘ì„±</button>
            <div id="memo-section-${p.seq}" class="memo-content">
                <textarea id="memo-${p.seq}" class="memo-textarea" placeholder="íŠ¹ì´ì‚¬í•­ì„ ì…ë ¥í•˜ì„¸ìš”..." oninput="saveMemo(${p.seq})"></textarea>
                <div id="indicator-${p.seq}" class="save-indicator">ìë™ ì €ì¥ë¨</div>
            </div>`;

        cardsContainer.innerHTML += `
            <div class="${cardClass}">
                <div class="title"><span class="badge">${p.seq}</span> ${p.title}</div>
                ${infoHtml}
                <div class="guide">${p.guide}</div>
                ${actionButtons}
            </div>`;
    });

    // ë©”ëª¨ í† ê¸€ í•¨ìˆ˜
    function toggleMemo(seq) {
        const section = document.getElementById(`memo-section-${seq}`);
        section.style.display = section.style.display === 'block' ? 'none' : 'block';
    }

    // ë©”ëª¨ ì €ì¥ í•¨ìˆ˜ (localStorage ì‚¬ìš©)
    function saveMemo(seq) {
        const text = document.getElementById(`memo-${seq}`).value;
        const pointTitle = routePoints.find(p => p.seq === seq).title;
        const key = `${today}_${pointTitle}`; // ê³ ìœ  í‚¤ ì„¤ê³„
        localStorage.setItem(key, text);

        // ì €ì¥ ì•Œë¦¼ í‘œì‹œ
        const indicator = document.getElementById(`indicator-${seq}`);
        indicator.style.display = 'block';
        setTimeout(() => { indicator.style.display = 'none'; }, 1000);
    }

    // í˜ì´ì§€ ë¡œë“œ ì‹œ ë©”ëª¨ ë¶ˆëŸ¬ì˜¤ê¸°
    window.onload = function() {
        routePoints.forEach(p => {
            if (p.type) return;
            const key = `${today}_${p.title}`;
            const savedValue = localStorage.getItem(key);
            if (savedValue) {
                document.getElementById(`memo-${p.seq}`).value = savedValue;
            }
        });
    };

    // í…ìŠ¤íŠ¸ íŒŒì¼ ë‚´ë³´ë‚´ê¸° í•¨ìˆ˜
    function exportMemos() {
        let content = `[${today} ë¶ˆë²•ì˜¥ì™¸ê´‘ê³ ë¬¼ ì •ë¹„ ì—…ë¬´ ì¼ì§€]\n\n`;
        routePoints.forEach(p => {
            if (p.type) return;
            const key = `${today}_${p.title}`;
            const memo = localStorage.getItem(key) || "(ê¸°ë¡ ì—†ìŒ)";
            content += `${p.seq}. ${p.title}\n - ì£¼ì†Œ: ${p.addr}\n - ë©”ëª¨: ${memo}\n--------------------------\n`;
        });

        const blob = new Blob([content], { type: 'text/plain;charset=utf-8' });
        const link = document.createElement('a');
        link.href = URL.createObjectURL(blob);
        link.download = `${today}_ì •ë¹„ê²°ê³¼.txt`;
        link.click();
    }
</script>
</body>
</html>
