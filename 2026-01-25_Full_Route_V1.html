<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta property="og:title" content="2026-01-25 의정부 정비 전체 경로 V3">
    <meta property="og:description" content="의정부시청 기점, 주요 정비 지점별 주소가 포함된 전체 경로 지도입니다.">
    <meta property="og:type" content="website">
    <title>2026-01-25 Full Route V3</title>
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" />
    <link rel="stylesheet" href="https://unpkg.com/leaflet-routing-machine@3.2.12/dist/leaflet-routing-machine.css" />
    <style>
        body { margin: 0; padding: 0; font-family: 'Apple SD Gothic Neo', sans-serif; }
        #map { height: 100vh; width: 100vw; }
        /* 팝업 스타일 커스텀 */
        .leaflet-popup-content-wrapper { border-radius: 10px; }
        .leaflet-popup-content { font-size: 14px; line-height: 1.5; }
        .popup-title { font-weight: bold; color: #333; font-size: 15px; margin-bottom: 5px; display: block; }
        .popup-address { color: #666; font-size: 13px; }
    </style>
</head>
<body>
    <div id="map"></div>

    <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>
    <script src="https://unpkg.com/leaflet-routing-machine@3.2.12/dist/leaflet-routing-machine.js"></script>

    <script>
        var map = L.map('map').setView([37.745, 127.065], 13);
        L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png').addTo(map);

        // 주소 정보가 포함된 지점 데이터
        const points = [
            { name: "의정부시청 (출발)", address: "경기도 의정부시 시민로 1", lat: 37.7381, lng: 127.0333 },
            { name: "가금교 삼거리", address: "녹양동 산1-4", lat: 37.7612, lng: 127.0321 },
            { name: "백정밥상 앞", address: "가능동 663-9", lat: 37.7518, lng: 127.0365 },
            { name: "세븐일레븐 가능SK점 (통합)", address: "가능동 663-21 및 인근 전주", lat: 37.7505, lng: 127.0388 },
            { name: "동진종합상사", address: "가능동 205-1", lat: 37.7492, lng: 127.0435 },
            { name: "화순식당 (태평로)", address: "태평로 132", lat: 37.7455, lng: 127.0512 },
            { name: "민락동 910", address: "민락로 279 앞 버스정류장", lat: 37.7488, lng: 127.0955 },
            { name: "고산동 874", address: "고산동 874 (펜스)", lat: 37.7395, lng: 127.1065 },
            { name: "산곡동 730 CU", address: "산곡동 730 CU 편의점 앞", lat: 37.7302, lng: 127.1041 },
            { name: "산곡동 810 삼거리 (통합)", address: "산곡동 810 (반사경/정류장)", lat: 37.7215, lng: 127.0922 },
            { name: "의정부시청 (복귀)", address: "경기도 의정부시 시민로 1", lat: 37.7381, lng: 127.0333 }
        ];

        // 1. 순회 경로 (파란색) & 팝업 설정
        L.Routing.control({
            waypoints: points.slice(0, 10).map(p => L.latLng(p.lat, p.lng)),
            lineOptions: { styles: [{ color: 'blue', weight: 6, opacity: 0.7 }] },
            createMarker: function(i, wp) {
                // 팝업 내용에 이름과 주소를 함께 표시
                var popupContent = `<span class="popup-title">${points[i].name}</span><span class="popup-address">${points[i].address}</span>`;
                return L.marker(wp.latLng).bindPopup(popupContent);
            },
            addWaypoints
